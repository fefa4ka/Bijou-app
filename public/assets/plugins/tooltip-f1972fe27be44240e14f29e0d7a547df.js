(function(a){var b={content:"Tooltip example",tooltipCl:"b-tooltip",tooltipTailCl:"b-tooltip__tail",tooltipContentCl:"b-tooltip__content",toggleOnClick:!1},c={},d=a.extend(b,c),e={init:function(b){return this.each(function(b){if(a(this).attr("tooltip"))return!0;var c=e.createTooltip.apply(this)})},toggle:function(){if(a(this).attr("tooltip")){var b=a("#"+a(this).attr("tooltip"));b.toggle(),e.positioning.apply(this,[b])}else e.createTooltip.apply(this)},positioning:function(b){var c={height:a(window).height(),width:a(window).width(),top:a(window).scrollTop(),left:a(window).scrollLeft()},d={height:a(this).height(),width:a(this).width(),top:a(this).offset().top,left:a(this).offset().left},e;switch(!0){case c.top+c.height-(d.top+d.height)>0&&c.left+c.width-(d.left+d.width+b.width())>0:e="left",b.css("top",d.top+d.height/2-b.height()/2).css("left",d.left+d.width);break;case d.top-b.height()>c.top&&c.left+c.width-(d.left+d.width/2+b.width()):e="bottom",b.css("top",d.top-b.height()).css("left",d.left+d.width/2);break;case d.top+d.height+b.height()<c.top+c.height:e="top",b.css("top",d.top+d.height).css("left",d.left)}b.removeClass("top left bottom right").addClass(e)},createTooltip:function(){var b=(new Date).getTime();return tail=a("<i/>").addClass(d.tooltipTailCl+"_border").append(a("<b/>").addClass(d.tooltipTailCl)),content=a("<div/>").addClass(d.tooltipContentCl).html(d.content),tooltip=a("<div/>").html("").addClass(d.tooltipCl).attr("id",b).append(tail).append(content),tailPosition=d.tailPosition,a(this).attr("tooltip",b),a("body").append(tooltip),e.positioning.apply(this,[tooltip]),tooltip}};a.fn.tooltip=function(b){d=a.extend(d,c);if(e[b])return e[b].apply(this,Array.prototype.slice.call(arguments,1));typeof b=="object"||!b?e.init.apply(this,arguments):a.error("Method "+b+"")}})(jQuery)